# [Gold V] 평범한 배낭 - 12865 

[문제 링크](https://www.acmicpc.net/problem/12865) 

## 풀이 방향
배낭 문제(Knapsack)라고 유명한 문제이다.

- 조합 문제 풀듯이 재귀로 풀어보니 시간 초과가 발생했다.
- 그리디 문제처럼 무게 대비 가치가 높은 item 순서로 넣으면 답이 틀린다.

이런 배낭 문제는 0-1 Knapsack Problem 문제라 하고, DP를 사용해서 풀 수 있다.

DP 배열은 2차원 배열을 사용하고, 다음의 의미를 갖는다.

dp[아이템 index][무게] = 최대 가치

다음 테이블에서 행은 아이템 index이고, 열은 채울 무게이고 최대 무게 K까지 작성한다.

**아이템을 넣는 것이 유리한지, 빼는 것이 유리한지 계산하면서 각 데이터를 채워간다.**

- 첫번 째 item 행에는 하나의 조건만 적용한다.
- 무게를 비교했을 때, 넣을 수 있으면 넣고 가치 값을 계산한다.
- 무게가 6이므로, 6 열부터 가치 값 13을 채웠다.

| item      | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
|-----------|---|---|---|---|---|---|---|
| 1.(6, 13) |0  |0  |0  |0  |0  |13 |13 |
| 2.(4, 8)  |   |   |   |   |   |   |   |
| 3.(3, 6)  |   |   |   |   |   |   |   |
| 4.(5, 12) |   |   |   |   |   |   |   |

- 두번 째 로우부터는 자신을 넣는 것이 유리한지, 안 넣는 것이 유리한지도 계산한다.
- 넣었을 때 총 가치 값이 크다면 넣고, 가치 값을 계산한다.
- 4 ~ 5열에서는 넣는 것이 가치가 커서 넣었고, 6 ~ 7열부터는 빼는 것이 유리했다.

| item      | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
|-----------|---|---|---|---|---|---|---|
| 1.(6, 13) |0  |0  |0  |0  |0  |13 |13 |
| 2.(4, 8)  |0  |0  |0  |8  |8  |13 |13 |
| 3.(3, 6)  |   |   |   |   |   |   |   |
| 4.(5, 12) |   |   |   |   |   |   |   |

- 세번 째 로우를 보면 3 열은 유리했고, 4 ~ 6 열은 불리해서 뺐다.
- 7 열부터는 넣는 것이 유리해서 다시 넣었다.
- 자신을 다시 넣기 위해서는 들어갈 무게가 비워져 있어야 한다.
- 3행 7열을 채우기 위해서는 2행의 (7-3)=4 열에 넣을 수 있겠다. table[index - 1][k - weight]
- 8 + 6 = 14로 13보다 크니까 가치 값 14를 넣었다.

| item      | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
|-----------|---|---|---|---|---|---|---|
| 1.(6, 13) |0  |0  |0  |0  |0  |13 |13 |
| 2.(4, 8)  |0  |0  |0  |"8"|8  |13 |13 |
| 3.(3, 6)  |0  |0  |6  |8  |8  |13 |"14"|
| 4.(5, 12) |   |   |   |   |   |   |   |

- 이렇게 다 채워보면 다음과 같다.

| item      | 1 | 2 | 3 | 4 | 5 | 6 | 7 |
|-----------|---|---|---|---|---|---|---|
| 1.(6, 13) |0  |0  |0  |0  |0  |13 |13 |
| 2.(4, 8)  |0  |0  |0  |8  |8  |13 |13 |
| 3.(3, 6)  |0  |0  |6  |8  |8  |13 |14 |
| 4.(5, 12) |0  |0  |6  |8  |12 |13 |14 |

### 성능 요약

메모리: 51048 KB, 시간: 148 ms

### 분류

다이나믹 프로그래밍, 배낭 문제

### 문제 설명

<p>이 문제는 아주 평범한 배낭에 관한 문제이다.</p>

<p><span style="line-height:1.6em">한 달 후면 국가의 부름을 받게 되는 준서는 여행을 가려고 한다. 세상과의 단절을 슬퍼하며 최대한 즐기기 위한 여행이기 때문에, 가지고 다닐 배낭 또한 최대한 가치 있게 싸려고 한다.</span></p>

<p><span style="line-height:1.6em">준서가 여행에 필요하다고 생각하는 N개의 물건이 있다. 각 물건은 무게 W와 가치 V를 가지는데, 해당 물건을 배낭에 넣어서 가면 준서가 V만큼 즐길 수 있다. 아직 행군을 해본 적이 없는 준서는 최대 K만큼의 무게만을 넣을 수 있는 배낭만 들고 다닐 수 있다. 준서가 최대한 즐거운 여행을 하기 위해 배낭에 넣을 수 있는 물건들의 가치의 최댓값을 알려주자.</span></p>

### 입력 

 <p>첫 줄에 물품의 수 N(1 ≤ N ≤ 100)과 준서가 버틸 수 있는 무게 K(1 ≤ K ≤ 100,000)가 주어진다. 두 번째 줄부터 N개의 줄에 거쳐 각 물건의 무게 W(1 ≤ W ≤ 100,000)와 해당 물건의 가치 V(0 ≤ V ≤ 1,000)가 주어진다.</p>

<p>입력으로 주어지는 모든 수는 정수이다.</p>

### 출력 

 <p>한 줄에 배낭에 넣을 수 있는 물건들의 가치합의 최댓값을 출력한다.</p>

